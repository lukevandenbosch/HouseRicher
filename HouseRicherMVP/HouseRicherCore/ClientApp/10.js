(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ef/Z":function(t,e,r){"use strict";r.r(e),r.d(e,"RealtorModule",(function(){return T}));var o=r("ofXK"),i=r("tyNb"),c=r("1u1q"),n=r("bhfF"),a=r("DO/L"),s=r("fXoL"),l=r("tk/3"),b=r("2Vo4"),u=r("lJxs");let f=(()=>{class t{constructor(t,e){this.http=t,this.document=e,this.url=this.document.location.origin,this.realtorSubject=new b.a(JSON.parse(localStorage.getItem("realtors"))),this.realtor=this.realtorSubject.asObservable()}getRealtors(t,e,r){var o={headers:new l.c({"Content-Type":"application/json",RangeMin:e.toString(),RangeMax:r.toString()})};return null!==t&&(o={headers:new l.c({"Content-Type":"application/json",RangeMin:e.toString(),RangeMax:r.toString(),Authorization:"Bearer "+t.token})}),this.http.get(`${this.url}/api/realtor/get`,o).pipe(Object(u.a)(t=>(localStorage.setItem("realtors",JSON.stringify(t)),this.realtorSubject.next(t),t)))}}return t.\u0275fac=function(e){return new(e||t)(s.cc(l.a),s.cc(o.e))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=r("f5O9"),p=r("pW6c"),g=r("1B90"),h=r("6nyw"),m=r("ho4I");function v(t,e){1&t&&(s.Ub(0,"div"),s.Oc(1,"Following"),s.Tb())}function w(t,e){1&t&&(s.Ub(0,"div"),s.Oc(1,"Follow"),s.Tb())}function S(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",12),s.Ub(1,"div",13),s.Ub(2,"button",14),s.gc("click",(function(){s.Dc(t);const e=s.kc().$implicit;return s.kc().follow(e)})),s.Mc(3,v,2,0,"div",15),s.Mc(4,w,2,0,"div",15),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.kc().$implicit;s.Bb(2),s.qc("ngClass",t.followed?"toggled_btn_follow":""),s.Bb(1),s.qc("ngIf",t.followed),s.Bb(1),s.qc("ngIf",!t.followed)}}function O(t,e){if(1&t&&(s.Ub(0,"div",4),s.Ub(1,"gx-grid"),s.Pb(2,"avatar",5),s.Ub(3,"div",6),s.Ub(4,"h4",7),s.Oc(5),s.Tb(),s.Ub(6,"span",8),s.Oc(7),s.Tb(),s.Pb(8,"div",9),s.Ub(9,"a",10),s.Oc(10,"See Profile Page"),s.Tb(),s.Tb(),s.Mc(11,S,5,3,"div",11),s.Tb(),s.Tb()),2&t){const t=e.$implicit,r=s.kc();s.Bb(2),s.rc("src",t.profilePicture),s.rc("firstName",t.firstName),s.Bb(3),s.Pc(t.firstName+" "+t.lastName),s.Bb(2),s.Pc(t.city+", "+t.provinceState),s.Bb(2),s.sc("href","/portal/user/profile/",t.id,"",s.Fc),s.Bb(2),s.qc("ngIf",null!==r.currentUser&&r.currentUser.id!==t.id)}}const U=[{path:"realtor-list",component:(()=>{class t{constructor(t,e,r,o){this.realtorService=t,this.alertService=e,this.authenticationService=r,this.profileService=o,this.pageNumber=1,this.maxPage=10}ngOnInit(){this.currentUser=this.authenticationService.currentUserValue,this.realtorService.getRealtors(this.currentUser,this.pageNumber*this.maxPage-this.maxPage,this.pageNumber*this.maxPage).subscribe(t=>{this.realtors=t},t=>{this.alertService.error("Could not load Realtors")})}follow(t){null!==this.currentUser&&(this.profileService.follow(t.id,this.authenticationService.currentUserValue.token).subscribe(t=>{},t=>{}),t.followed=!t.followed)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(f),s.Ob(d.a),s.Ob(p.a),s.Ob(g.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-realtor-list"]],decls:5,vars:1,consts:[[1,"dt-page__header"],[1,"dt-page__title"],[1,"row"],["class","col-xl-3 col-md-4 col-sm-6 col-12",4,"ngFor","ngForOf"],[1,"col-xl-3","col-md-4","col-sm-6","col-12"],["img_class","dt-avatar size-60 mr-6 mb-6 mb-sm-0",3,"src","firstName"],[1,"mt-7"],[1,"mb-1","mb-sm-0"],[2,"padding-top","10px","padding-bottom","10px"],[2,"padding","10px"],[1,"btn","btn-primary","btn-sm",3,"href"],["class","action-tools",4,"ngIf"],[1,"action-tools"],["placement","bottom-right"],["type","button","aria-pressed","false","autocomplete","off",1,"btn","btn-outline-secondary","mb-2",3,"ngClass","click"],[4,"ngIf"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"h1",1),s.Oc(2,"Our Realtors"),s.Tb(),s.Tb(),s.Ub(3,"div",2),s.Mc(4,O,12,6,"div",3),s.Tb()),2&t&&(s.Bb(4),s.qc("ngForOf",e.realtors))},directives:[o.t,h.a,m.a,o.u,o.r],styles:[".toggled_btn_follow[_ngcontent-%COMP%]{background-color:#ff4081;color:#fff}"]}),t})()}];let T=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[o.c,c.a,n.a,a.a,i.h.forChild(U)]]}),t})()}}]);