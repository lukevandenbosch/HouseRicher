(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{KuJF:function(t,e,s){"use strict";s.r(e),s.d(e,"ForumModule",(function(){return gt}));var n=s("ofXK"),i=s("tyNb"),r=s("1u1q"),o=s("bhfF"),c=s("JMRq"),a=s("DO/L"),b=s("3Pt+"),l=s("D92K"),m=s("fXoL"),d=s("pW6c"),f=s("tk/3"),u=s("2Vo4"),p=s("lJxs");let g=(()=>{class t{constructor(t,e){this.http=t,this.document=e,this.url=this.document.location.origin,this.feedSubject=new u.a(JSON.parse(localStorage.getItem("feed"))),this.feed=this.feedSubject.asObservable(),this.commentSubject=new u.a(JSON.parse(localStorage.getItem("comment"))),this.comment=this.commentSubject.asObservable()}get currentfeedValue(){return this.feedSubject.value}get currentCommentValue(){return this.commentSubject.value}getFeed(t,e,s,n){var i={headers:new f.c({"Content-Type":"application/json",RangeMin:e.toString(),RangeMax:s.toString()})};return null!==t?(i={headers:new f.c({"Content-Type":"application/json",RangeMin:e.toString(),RangeMax:s.toString(),Authorization:"Bearer "+t})},null!==n&&(i={headers:new f.c({"Content-Type":"application/json",RangeMin:e.toString(),RangeMax:s.toString(),Authorization:"Bearer "+t,PostId:n})})):null!==n&&(i={headers:new f.c({"Content-Type":"application/json",RangeMin:e.toString(),RangeMax:s.toString(),PostId:n})}),this.http.get(`${this.url}/api/feed/getposts`,i).pipe(Object(p.a)(t=>(localStorage.setItem("feed",JSON.stringify(t)),this.feedSubject.next(t),t)))}getComment(t,e){var s;return s=null==t?{headers:new f.c({"Content-Type":"application/json",PostId:e.toString()})}:{headers:new f.c({"Content-Type":"application/json",Authorization:"Bearer "+t,PostId:e.toString()})},this.http.get(`${this.url}/api/feed/getcomments`,s).pipe(Object(p.a)(t=>(localStorage.setItem("comment",JSON.stringify(t)),this.feedSubject.next(t),t)))}postFeed(t,e,s,n,i){const r=new FormData;return r.append("PostId",null==i?"":i.toString()),r.append("Subject",e),r.append("Message",s),r.append("TermsAndConditions",null==n?"":n.toString()),null==t?this.http.post(`${this.url}/api/feed/post`,r):this.http.post(`${this.url}/api/feed/post`,r,{headers:{Authorization:"Bearer "+t.token}})}likePostComment(t,e,s){var n={headers:new f.c({"Content-Type":"application/json",Authorization:"Bearer "+t.token})};return this.http.post(`${this.url}/api/feed/like`,null==s?{postId:e}:{commentId:s},n)}}return t.\u0275fac=function(e){return new(e||t)(m.cc(f.a),m.cc(n.e))},t.\u0275prov=m.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=s("f5O9"),v=s("ZUXT"),U=s("ho4I"),k=s("zhXz"),T=s("/Tuz"),I=s("OhSz");let B=(()=>{class t{transform(t,e){if(Number.isNaN(t))return null;if(t<1e3)return t;const s=Math.floor(Math.log(t)/Math.log(1e3));return(t/Math.pow(1e3,s)).toFixed(e)+["k","M","G","T","P","E"][s-1]+"+"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=m.Nb({name:"thousandSuff",type:t,pure:!0}),t})();function P(t,e){1&t&&(m.Ub(0,"div",24),m.Oc(1,"* The terms of service must be accepted"),m.Tb())}function C(t,e){if(1&t&&(m.Ub(0,"div",22),m.Mc(1,P,2,0,"div",23),m.Tb()),2&t){const t=m.kc(2);m.Bb(1),m.qc("ngIf",t.f.termsAndConditions.errors.annonymousValidation)}}const O=function(t){return{"is-invalid":t}};function x(t,e){if(1&t&&(m.Ub(0,"div",17),m.Pb(1,"input",18),m.Ub(2,"label",19),m.Oc(3," I accept the "),m.Ub(4,"a",20),m.Oc(5,"Terms & Conditions"),m.Tb(),m.Tb(),m.Mc(6,C,2,1,"div",21),m.Tb()),2&t){const t=m.kc();m.Bb(1),m.qc("ngClass",m.uc(2,O,t.submitted&&t.f.termsAndConditions.errors)),m.Bb(5),m.qc("ngIf",t.submitted&&t.f.termsAndConditions.errors)}}function N(t,e){if(1&t&&(m.Ub(0,"a",42),m.Pb(1,"avatar",7),m.Tb()),2&t){const t=m.kc().$implicit;m.sc("href","portal/user/profile/",t.personId,"",m.Fc),m.Bb(1),m.rc("src",t.profilePicture),m.rc("firstName",t.firstName)}}function S(t,e){if(1&t&&m.Pb(0,"avatar",7),2&t){const t=m.kc().$implicit;m.rc("src",t.profilePicture),m.rc("firstName",t.firstName)}}function y(t,e){if(1&t&&(m.Ub(0,"a",42),m.Ub(1,"span",43),m.Oc(2),m.Tb(),m.Tb()),2&t){const t=m.kc().$implicit;m.sc("href","portal/user/profile/",t.personId,"",m.Fc),m.Bb(2),m.Pc(t.firstName+" "+t.lastName)}}function M(t,e){if(1&t&&(m.Ub(0,"span",43),m.Oc(1),m.Tb()),2&t){const t=m.kc().$implicit;m.Bb(1),m.Pc(t.firstName+" "+t.lastName)}}function q(t,e){if(1&t&&(m.Ub(0,"a",44),m.Pb(1,"gx-icon",45),m.Ub(2,"span",46),m.Oc(3),m.lc(4,"thousandSuff"),m.Tb(),m.Tb()),2&t){const t=m.kc().$implicit;m.Bb(1),m.qc("fw",!0)("ngClass",t.isLiked?"text-danger":""),m.Bb(2),m.Rc("",m.mc(4,4,t.likes)," ",1!==t.likes?"Likes":"Like","")}}function w(t,e){if(1&t&&(m.Ub(0,"a",47),m.Pb(1,"gx-icon",48),m.Ub(2,"span",46),m.Oc(3),m.lc(4,"thousandSuff"),m.Tb(),m.Tb()),2&t){const t=m.kc().$implicit;m.Bb(1),m.qc("fw",!0),m.Bb(2),m.Rc("",m.mc(4,3,t.commentCount)," ",1!==t.commentCount?"Comments":"Comment","")}}function F(t,e){if(1&t&&(m.Ub(0,"div",3),m.Ub(1,"gx-card"),m.Ub(2,"div",25),m.Mc(3,N,2,3,"a",26),m.Mc(4,S,1,2,"avatar",27),m.Ub(5,"div",28),m.Ub(6,"div",29),m.Mc(7,y,3,2,"a",26),m.Mc(8,M,2,1,"span",30),m.Ub(9,"span",31),m.Oc(10,"\xa0"),m.Tb(),m.Ub(11,"span",32),m.Oc(12),m.Tb(),m.Tb(),m.Ub(13,"span",33),m.Oc(14),m.lc(15,"dateAgo"),m.Tb(),m.Ub(16,"p",34),m.Oc(17),m.Tb(),m.Ub(18,"div",35),m.Ub(19,"div",36),m.Ub(20,"div",37),m.Mc(21,q,5,6,"a",38),m.Mc(22,w,5,5,"a",39),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(23,"div",40),m.Ub(24,"a",41),m.Oc(25,"Load Post"),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t){const t=e.$implicit;m.Bb(3),m.qc("ngIf","Anonymous"!==t.firstName),m.Bb(1),m.qc("ngIf","Anonymous"===t.firstName),m.Bb(3),m.qc("ngIf","Anonymous"!==t.firstName),m.Bb(1),m.qc("ngIf","Anonymous"===t.firstName),m.Bb(4),m.Pc(t.subject),m.Bb(2),m.Pc(m.mc(15,10,t.datePosted)),m.Bb(3),m.Pc(t.message),m.Bb(4),m.qc("ngIf",0!==t.likes),m.Bb(1),m.qc("ngIf",0!==t.commentCount),m.Bb(2),m.sc("href","portal/forum/forum-item/",t.id,"",m.Fc)}}function A(t,e){if(1&t){const t=m.Vb();m.Ub(0,"li",51),m.Ub(1,"a",52),m.gc("click",(function(){m.Dc(t);const s=e.$implicit;return m.kc(2).changePage(s)})),m.Oc(2),m.Tb(),m.Tb()}if(2&t){const t=e.$implicit,s=m.kc(2);m.Bb(1),m.Kc(s.pageNumber===t?"color: white; background-color: #512da8;":""),m.Bb(1),m.Pc(t)}}function j(t,e){if(1&t&&(m.Ub(0,"ul",49),m.Mc(1,A,3,3,"li",50),m.Tb()),2&t){const t=m.kc();m.Bb(1),m.qc("ngForOf",t.pageList)}}const L=function(){return[]};let $=(()=>{class t{constructor(t,e,s,n){this.authenticationService=t,this.formBuilder=e,this.feedService=s,this.alertService=n,this.maxPage=10,this.pageNumber=1,this.pageList=[],this.submitted=!1,this.loading=!1}ngOnInit(){this.currentUser=this.authenticationService.currentUserValue,this.postForm=this.formBuilder.group({message:["",b.o.required],subject:["",b.o.required],termsAndConditions:[""]},{validator:Object(l.a)("termsAndConditions",null==this.currentUser?null:this.currentUser.token)}),this.loadPosts()}loadPosts(){this.feedService.getFeed(null==this.currentUser?null:this.currentUser.token,this.pageNumber*this.maxPage-this.maxPage,this.pageNumber*this.maxPage,null).subscribe(t=>{this.posts=t,this.pageList=[];for(var e=1;e<1+this.posts.count/this.maxPage;e++)this.pageList.push(e)},t=>{this.alertService.error("Could not load Posts")})}get f(){return this.postForm.controls}changePage(t){this.pageNumber=t,this.loadPosts()}onSubmit(){this.submitted=!0,this.postForm.invalid||(this.loading=!0,this.feedService.postFeed(this.currentUser,this.f.subject.value,this.f.message.value,this.f.termsAndConditions.value,null).subscribe(t=>{this.postForm.reset(),this.alertService.information("Question Posted."),this.submitted=!1,this.loading=!1,this.loadPosts()},t=>{this.loading=!1,this.submitted=!1,this.alertService.error("Post failed to send.")}))}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(d.a),m.Ob(b.c),m.Ob(g),m.Ob(h.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-forum-list"]],decls:21,vars:8,consts:[[1,"dt-page__header"],[1,"dt-page__title"],[1,"row"],[1,"col-xl-12"],[1,"card",2,"width","100%"],[3,"formGroup","ngSubmit"],[1,"media"],["img_class","dt-avatar size-60 mr-6 mb-6 mb-sm-0",3,"src","firstName"],[1,"media-body"],["formControlName","subject","placeholder","Subject",1,"form-control","border-0","shadow-none","bg-focus"],["formControlName","message","rows","3","placeholder","Ask a question!",1,"form-control","border-0","shadow-none","bg-focus"],[1,"d-flex","align-items-center"],[1,"dt-attachment-btn","border-0","d-inline-flex","align-items-center","overflow-hidden"],["class","dt-checkbox d-block mb-6",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn","text-uppercase","ml-auto",3,"disabled"],["class","col-xl-12",4,"ngFor","ngForOf"],["class","pagination",4,"ngIf"],[1,"dt-checkbox","d-block","mb-6"],["type","checkbox","formControlName","termsAndConditions",3,"ngClass"],[1,"dt-checkbox-content"],["href","javascript:void(0)"],["style","color: red;",4,"ngIf"],[2,"color","red"],["class","form-error",4,"ngIf"],[1,"form-error"],[1,"d-sm-flex","flex-sm-row"],[3,"href",4,"ngIf"],["img_class","dt-avatar size-60 mr-6 mb-6 mb-sm-0",3,"src","firstName",4,"ngIf"],[1,"flex-1","overflow-hidden","mb-6","mb-sm-0","pr-sm-3"],[1,"user-detail"],["class","user-name",4,"ngIf"],[1,"dt-separator-v"],[1,"designation"],[1,"date-fmt"],[1,"text-truncate",2,"margin-top","10px"],[1,"d-flex","flex-sm-row","flex-column"],[1,"mb-4","mb-sm-0"],[1,"d-flex","flex-wrap","mb-6"],["href","javascript:void(0)","class","f-12 d-inline-block text-light-gray mr-3",4,"ngIf"],["href","javascript:void(0)","class","f-12 d-inline-block text-light-gray",4,"ngIf"],[1,"min-w-120",2,"transform","translateY(30%)"],[1,"btn","btn-primary","text-uppercase","btn-block",3,"href"],[3,"href"],[1,"user-name"],["href","javascript:void(0)",1,"f-12","d-inline-block","text-light-gray","mr-3"],["name","heart-o","size","sm",3,"fw","ngClass"],[1,"d-inline-block"],["href","javascript:void(0)",1,"f-12","d-inline-block","text-light-gray"],["name","message","size","sm",3,"fw"],[1,"pagination"],["class","page-item ng-star-inserted",4,"ngFor","ngForOf"],[1,"page-item","ng-star-inserted"],[1,"page-link","ng-star-inserted",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(m.Ub(0,"div",0),m.Ub(1,"h1",1),m.Oc(2,"Real Estate Questions"),m.Tb(),m.Tb(),m.Ub(3,"div",2),m.Ub(4,"div",3),m.Ub(5,"card-body",4),m.Ub(6,"form",5),m.gc("ngSubmit",(function(){return e.onSubmit()})),m.Ub(7,"div",6),m.Pb(8,"avatar",7),m.Ub(9,"div",8),m.Pb(10,"input",9),m.Pb(11,"textarea",10),m.Tb(),m.Tb(),m.Pb(12,"hr"),m.Ub(13,"div",11),m.Ub(14,"div",12),m.Mc(15,x,7,4,"div",13),m.Tb(),m.Ub(16,"button",14),m.Oc(17,"Post"),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Mc(18,F,26,12,"div",15),m.Ub(19,"div",3),m.Mc(20,j,2,1,"ul",16),m.Tb(),m.Tb()),2&t&&(m.Bb(6),m.qc("formGroup",e.postForm),m.Bb(2),m.rc("src",null===e.currentUser?"":e.currentUser.profilePicture),m.rc("firstName",null==e.currentUser?"Anonymous":e.currentUser.firstName),m.Bb(7),m.qc("ngIf",null===e.currentUser),m.Bb(1),m.qc("disabled",e.loading),m.Bb(2),m.qc("ngForOf",null==e.posts?m.tc(7,L):e.posts.feed),m.Bb(2),m.qc("ngIf",e.posts))},directives:[v.a,b.q,b.j,b.e,U.a,b.b,b.i,b.d,n.u,n.t,b.a,n.r,k.a,T.a],pipes:[I.a,B],styles:[".date-fmt[_ngcontent-%COMP%]{font-size:80%}"]}),t})();function z(t,e){if(1&t&&m.Pb(0,"h1",1),2&t){const t=m.kc();m.qc("innerHTML",t.pageTitle,m.Ec)}}const _=["*"];let R=(()=>{class t{constructor(t){this.eleRef=t,this.pageTitle="",this.eleRef.nativeElement.classList.add("dt-page__header")}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(m.l))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-page-header"]],inputs:{pageTitle:"pageTitle"},ngContentSelectors:_,decls:2,vars:1,consts:[["class","dt-page__title",3,"innerHTML",4,"ngIf"],[1,"dt-page__title",3,"innerHTML"]],template:function(t,e){1&t&&(m.pc(),m.Mc(0,z,1,1,"h1",0),m.oc(1)),2&t&&m.qc("ngIf",e.pageTitle)},directives:[n.u],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),J=(()=>{class t{constructor(t){this.el=t,this.el.nativeElement.classList.add("dt-card")}set fullHeight(t){!1!==t&&this.el.nativeElement.classList.add("dt-card__full-height")}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(m.l))},t.\u0275dir=m.Jb({type:t,selectors:[["","gxCard",""]],inputs:{fullHeight:"fullHeight"}}),t})();function V(t,e){if(1&t&&(m.Ub(0,"a",25),m.Pb(1,"avatar",26),m.Tb()),2&t){const t=m.kc();m.sc("href","portal/user/profile/",t.post.personId,"",m.Fc),m.Bb(1),m.rc("src",t.post.profilePicture),m.rc("firstName",t.post.firstName)}}function D(t,e){if(1&t&&m.Pb(0,"avatar",26),2&t){const t=m.kc();m.rc("src",t.post.profilePicture),m.rc("firstName",t.post.firstName)}}function E(t,e){if(1&t&&(m.Ub(0,"a",25),m.Ub(1,"span",27),m.Oc(2),m.Tb(),m.Tb()),2&t){const t=m.kc();m.sc("href","portal/user/profile/",t.post.personId,"",m.Fc),m.Bb(2),m.Pc(t.post.firstName+" "+t.post.lastName)}}function H(t,e){if(1&t&&(m.Ub(0,"span",27),m.Oc(1),m.Tb()),2&t){const t=m.kc();m.Bb(1),m.Pc(t.post.firstName+" "+t.post.lastName)}}function Q(t,e){if(1&t&&(m.Ub(0,"p",28),m.Oc(1),m.Tb()),2&t){const t=m.kc();m.Bb(1),m.Pc(t.post.message)}}function G(t,e){1&t&&(m.Ub(0,"span"),m.Oc(1,"Likes"),m.Tb())}function K(t,e){1&t&&(m.Ub(0,"span"),m.Oc(1,"Like"),m.Tb())}function X(t,e){if(1&t&&(m.Ub(0,"span",32),m.Oc(1),m.Mc(2,G,2,0,"span",33),m.Mc(3,K,2,0,"span",33),m.Tb()),2&t){const t=m.kc(2);m.Bb(1),m.Qc("",t.post.likes," "),m.Bb(1),m.qc("ngIf",t.post.likes>1),m.Bb(1),m.qc("ngIf",1===t.post.likes)}}const W=function(t){return{"text-danger":t}};function Y(t,e){if(1&t){const t=m.Vb();m.Ub(0,"a",29),m.gc("click",(function(){m.Dc(t);const e=m.kc();return e.toggleLike(e.post,!1)})),m.Pb(1,"gx-icon",30),m.Mc(2,X,4,3,"span",31),m.Tb()}if(2&t){const t=m.kc();m.Bb(1),m.qc("fw",!0)("ngClass",m.uc(3,W,t.post.isLiked)),m.Bb(1),m.qc("ngIf",0!==t.post.likes)}}function Z(t,e){1&t&&(m.Ub(0,"span"),m.Oc(1,"Comments"),m.Tb())}function tt(t,e){1&t&&(m.Ub(0,"span"),m.Oc(1,"Comment"),m.Tb())}function et(t,e){if(1&t&&(m.Ub(0,"a",34),m.Pb(1,"gx-icon",35),m.Ub(2,"span",32),m.Oc(3),m.Mc(4,Z,2,0,"span",33),m.Mc(5,tt,2,0,"span",33),m.Tb(),m.Tb()),2&t){const t=m.kc();m.Bb(1),m.qc("fw",!0),m.Bb(2),m.Qc("",t.post.commentCount," "),m.Bb(1),m.qc("ngIf",t.post.commentCount>1),m.Bb(1),m.qc("ngIf",1===t.post.commentCount)}}function st(t,e){if(1&t&&(m.Ub(0,"a",25),m.Pb(1,"avatar",17),m.Tb()),2&t){const t=m.kc().$implicit;m.sc("href","portal/user/profile/",t.personId,"",m.Fc),m.Bb(1),m.rc("src",t.profilePicture),m.rc("firstName",t.firstName)}}function nt(t,e){if(1&t&&m.Pb(0,"avatar",17),2&t){const t=m.kc().$implicit;m.rc("src",t.profilePicture),m.rc("firstName",t.firstName)}}function it(t,e){if(1&t&&(m.Ub(0,"a",25),m.Ub(1,"span",27),m.Oc(2),m.Tb(),m.Tb()),2&t){const t=m.kc().$implicit;m.sc("href","portal/user/profile/",t.personId,"",m.Fc),m.Bb(2),m.Pc(t.firstName+" "+t.lastName)}}function rt(t,e){if(1&t&&(m.Ub(0,"span",27),m.Oc(1),m.Tb()),2&t){const t=m.kc().$implicit;m.Bb(1),m.Pc(t.firstName+" "+t.lastName)}}function ot(t,e){1&t&&(m.Ub(0,"span"),m.Oc(1,"Likes"),m.Tb())}function ct(t,e){1&t&&(m.Ub(0,"span"),m.Oc(1,"Like"),m.Tb())}function at(t,e){if(1&t&&(m.Ub(0,"span",32),m.Oc(1),m.Mc(2,ot,2,0,"span",33),m.Mc(3,ct,2,0,"span",33),m.Tb()),2&t){const t=m.kc(2).$implicit;m.Bb(1),m.Qc("",t.likes," "),m.Bb(1),m.qc("ngIf",t.likes>1),m.Bb(1),m.qc("ngIf",1===t.likes)}}function bt(t,e){if(1&t){const t=m.Vb();m.Ub(0,"a",29),m.gc("click",(function(){m.Dc(t);const e=m.kc().$implicit;return m.kc().toggleLike(e,!0)})),m.Pb(1,"gx-icon",30),m.Mc(2,at,4,3,"span",31),m.Tb()}if(2&t){const t=m.kc().$implicit;m.Bb(1),m.qc("fw",!0)("ngClass",m.uc(3,W,t.isLiked)),m.Bb(1),m.qc("ngIf",0!==t.likes)}}function lt(t,e){if(1&t&&(m.Ub(0,"div",36),m.Mc(1,st,2,3,"a",5),m.Mc(2,nt,1,2,"avatar",37),m.Ub(3,"div",18),m.Mc(4,it,3,2,"a",5),m.Mc(5,rt,2,1,"span",8),m.Ub(6,"span",38),m.Oc(7),m.lc(8,"dateAgo"),m.Tb(),m.Ub(9,"p"),m.Oc(10),m.Tb(),m.Ub(11,"p"),m.Mc(12,bt,3,5,"a",13),m.Tb(),m.Tb(),m.Tb()),2&t){const t=e.$implicit,s=m.kc();m.Bb(1),m.qc("ngIf","Anonymous"!==t.firstName),m.Bb(1),m.qc("ngIf","Anonymous"===t.firstName),m.Bb(2),m.qc("ngIf","Anonymous"!==t.firstName),m.Bb(1),m.qc("ngIf","Anonymous"===t.firstName),m.Bb(2),m.Pc(m.mc(8,7,t.datePosted)),m.Bb(3),m.Qc(" ",t.message," "),m.Bb(2),m.qc("ngIf",null!==s.currentUser)}}function mt(t,e){1&t&&(m.Ub(0,"div",46),m.Oc(1,"* The terms of service must be accepted"),m.Tb())}function dt(t,e){if(1&t&&(m.Ub(0,"div",44),m.Mc(1,mt,2,0,"div",45),m.Tb()),2&t){const t=m.kc(2);m.Bb(1),m.qc("ngIf",t.f.termsAndConditions.errors.annonymousValidation)}}const ft=function(t){return{"is-invalid":t}};function ut(t,e){if(1&t&&(m.Ub(0,"div",39),m.Pb(1,"input",40),m.Ub(2,"label",41),m.Oc(3," I accept the "),m.Ub(4,"a",42),m.Oc(5,"Terms & Conditions"),m.Tb(),m.Tb(),m.Mc(6,dt,2,1,"div",43),m.Tb()),2&t){const t=m.kc();m.Bb(1),m.qc("ngClass",m.uc(2,ft,t.submitted&&t.f.termsAndConditions.errors)),m.Bb(5),m.qc("ngIf",t.submitted&&t.f.termsAndConditions.errors)}}const pt=[{path:"forum-list",component:$},{path:"forum-item/:id",component:(()=>{class t{constructor(t,e,s,n,i){this.activeRoute=t,this.authenticationService=e,this.formBuilder=s,this.feedService=n,this.alertService=i}ngOnInit(){this.postId=parseInt(decodeURIComponent(this.activeRoute.snapshot.paramMap.get("id"))),this.currentUser=this.authenticationService.currentUserValue,this.commentForm=this.formBuilder.group({message:["",b.o.required],termsAndConditions:[""]},{validator:Object(l.a)("termsAndConditions",null==this.currentUser?null:this.currentUser.token)}),this.feedService.getFeed(null==this.currentUser?null:this.currentUser.token,0,1,this.postId.toString()).subscribe(t=>{this.post=t,this.post=this.post.feed[0],this.loadComments()},t=>{this.alertService.error("Post Could Not be Loaded")})}loadComments(){this.feedService.getComment(null==this.currentUser?null:this.currentUser.token,this.postId).subscribe(t=>{this.comments=t},t=>{this.alertService.error("Comments Could Not be Loaded")})}get f(){return this.commentForm.controls}toggleLike(t,e){null!=this.currentUser&&(e?this.feedService.likePostComment(this.currentUser,null,t.id).subscribe(t=>{},t=>{this.alertService.error("Failed to like Comment")}):this.feedService.likePostComment(this.currentUser,t.id,null).subscribe(t=>{},t=>{this.alertService.error("Failed to like Post")}),t.isLiked=!t.isLiked,t.isLiked?t.likes++:t.likes--)}onSubmit(){this.submitted=!0,this.commentForm.invalid||(this.loading=!0,this.feedService.postFeed(this.currentUser,null,this.f.message.value,this.f.termsAndConditions.value,this.postId).subscribe(t=>{this.commentForm.reset(),this.submitted=!1,this.loading=!1,this.loadComments()},t=>{this.loading=!1,this.submitted=!1,this.alertService.error("Comment failed to send.")}))}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(i.a),m.Ob(d.a),m.Ob(b.c),m.Ob(g),m.Ob(h.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-wall-page"]],decls:31,vars:17,consts:[[3,"pageTitle"],[1,"row"],[1,"col-xl-12","col-md-12","col-sm-12"],["gxCard","",1,"col-12"],[1,"dt-avatar-wrapper","mb-3"],[3,"href",4,"ngIf"],["img_class","dt-avatar size-60 mr-6 mb-6 mb-sm-0",3,"src","firstName",4,"ngIf"],[1,"dt-avatar-info"],["class","h5 dt-avatar-name mb-1",4,"ngIf"],[1,"meta-date"],[1,"wall-post"],["class","text-dark",4,"ngIf"],[1,"d-flex","flex-wrap","mb-6"],["class","f-12 d-inline-block text-light-gray mr-3",3,"click",4,"ngIf"],["class","f-12 d-inline-block text-light-gray",4,"ngIf"],["class","media px-5 mb-3",4,"ngFor","ngForOf"],[1,"px-5","media"],["img_class","dt-avatar size-50 mr-6 mb-6 mb-sm-0",3,"src","firstName"],[1,"media-body"],[3,"formGroup","ngSubmit"],["type","text","formControlName","message","placeholder","Post your answer",1,"form-control","border-0","shadow-none","bg-focus",2,"margin-bottom","10px"],[1,"d-flex","align-items-center"],[1,"dt-attachment-btn","border-0","d-inline-flex","align-items-center","overflow-hidden"],["class","dt-checkbox d-block mb-6",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn","text-uppercase","ml-auto",3,"disabled"],[3,"href"],["img_class","dt-avatar size-60 mr-6 mb-6 mb-sm-0",3,"src","firstName"],[1,"h5","dt-avatar-name","mb-1"],[1,"text-dark"],[1,"f-12","d-inline-block","text-light-gray","mr-3",3,"click"],["name","heart-o","size","sm",3,"fw","ngClass"],["class","d-inline-block",4,"ngIf"],[1,"d-inline-block"],[4,"ngIf"],[1,"f-12","d-inline-block","text-light-gray"],["name","message","size","sm",3,"fw"],[1,"media","px-5","mb-3"],["img_class","dt-avatar size-50 mr-6 mb-6 mb-sm-0",3,"src","firstName",4,"ngIf"],[1,"meta-date","mb-2"],[1,"dt-checkbox","d-block","mb-6"],["type","checkbox","formControlName","termsAndConditions",3,"ngClass"],[1,"dt-checkbox-content"],["href","javascript:void(0)"],["style","color: red;",4,"ngIf"],[2,"color","red"],["class","form-error",4,"ngIf"],[1,"form-error"]],template:function(t,e){1&t&&(m.Pb(0,"app-page-header",0),m.Ub(1,"div",1),m.Ub(2,"div",2),m.Ub(3,"div",1),m.Ub(4,"div",3),m.Ub(5,"card-body"),m.Ub(6,"div",4),m.Mc(7,V,2,3,"a",5),m.Mc(8,D,1,2,"avatar",6),m.Ub(9,"div",7),m.Mc(10,E,3,2,"a",5),m.Mc(11,H,2,1,"span",8),m.Ub(12,"span",9),m.Oc(13),m.lc(14,"dateAgo"),m.Tb(),m.Tb(),m.Tb(),m.Ub(15,"div",10),m.Mc(16,Q,2,1,"p",11),m.Tb(),m.Ub(17,"div",12),m.Mc(18,Y,3,5,"a",13),m.Mc(19,et,6,4,"a",14),m.Tb(),m.Mc(20,lt,13,9,"div",15),m.Ub(21,"div",16),m.Pb(22,"avatar",17),m.Ub(23,"div",18),m.Ub(24,"form",19),m.gc("ngSubmit",(function(){return e.onSubmit()})),m.Pb(25,"input",20),m.Ub(26,"div",21),m.Ub(27,"div",22),m.Mc(28,ut,7,4,"div",23),m.Tb(),m.Ub(29,"button",24),m.Oc(30,"Post"),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t&&(m.rc("pageTitle",e.post.subject),m.Bb(7),m.qc("ngIf","Anonymous"!==e.post.firstName),m.Bb(1),m.qc("ngIf","Anonymous"===e.post.firstName),m.Bb(2),m.qc("ngIf","Anonymous"!==e.post.firstName),m.Bb(1),m.qc("ngIf","Anonymous"===e.post.firstName),m.Bb(2),m.Pc(m.mc(14,15,e.post.datePosted)),m.Bb(3),m.qc("ngIf",e.post.message),m.Bb(2),m.qc("ngIf",null!==e.currentUser),m.Bb(1),m.qc("ngIf",0!==e.post.commentCount),m.Bb(1),m.qc("ngForOf",e.comments),m.Bb(2),m.rc("src",null===e.currentUser?"":e.currentUser.profilePicture),m.rc("firstName",null===e.currentUser?"Anonymous":e.currentUser.firstName),m.Bb(2),m.qc("formGroup",e.commentForm),m.Bb(4),m.qc("ngIf",null===e.currentUser),m.Bb(1),m.qc("disabled",e.loading))},directives:[R,J,v.a,n.u,n.t,U.a,b.q,b.j,b.e,b.b,b.i,b.d,T.a,n.r,b.a],pipes:[I.a],styles:[""]}),t})()}];let gt=(()=>{class t{}return t.\u0275mod=m.Mb({type:t}),t.\u0275inj=m.Lb({factory:function(e){return new(e||t)},imports:[[n.c,r.a,c.a,o.a,a.a,i.h.forChild(pt)]]}),t})()}}]);